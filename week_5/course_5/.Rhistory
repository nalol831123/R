library(NLP)
library(tm)
library(stats)
library(proxy)
library(dplyr)
library(readtext)
library(jiebaRD)
library(jiebaR)
library(slam)
library(Matrix)
library(tidytext)
library(proxy)
library(RCurl)
library(bitops)
library(twitteR)
library(tm)
library(NLP)
library(wordcloud)
library(RColorBrewer)
library(RCurl)
library(wordcloud)
consumerKey <- "eIaUSZ0CW1baBIawv6aO3yGhA"
consumerSecret <- "U8ceWsFc8lymqRtfhK1b1QQR1DFvDUPUORbBNkYy4ziOiOhk3a"
accessToken <- "978170993544806400-lb7cs4vPkCtbHqwCO6vynaMceKRs0Ig"
accessSecret <- "ewPYmyyGWce0ZgOpITkqJxJ8hVbKzkSZqecSG6Tjx6wD4"
setup_twitter_oauth(consumerKey, consumerSecret, accessToken, accessSecret)
nba_tweets <- searchTwitter("NBA", n = 1000, lang= "en")
nba_tweets_text <- sapply(nba_tweets, function(x) x$getText())
str(nba_tweets_text)
nba_corpus <- Corpus(VectorSource(nba_tweets_text))
nba_corpus_clean <- tm_map(nba_corpus, removePunctuation)
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
for(i in seq(nba_corpus_clean)){
nba_corpus_clean[[i]]<-gsub('[[:punct:]]', '', docs[[i]])
nba_corpus_clean[[i]]<-gsub("，"," ",docs[[i]])
nba_corpus_clean[[i]]<-gsub("-"," ",docs[[i]])
}
for(i in seq(nba_corpus_clean)){
nba_corpus_clean[[i]]<-gsub('[[:punct:]]', '', nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("，"," ", nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("-"," ", nba_corpus_clean[[i]])
}
consumerSecret <- "U8ceWsFc8lymqRtfhK1b1QQR1DFvDUPUORbBNkYy4ziOiOhk3a"
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
replace_emoji(nba_corpus_clean)
install.packages("textclean")
library(textclean)
replace_emoji(nba_corpus_clean)
replace_emoji(nba_tweets_text)
nba_corpus <- Corpus(VectorSource(nba_tweets_text))
nba_corpus_clean <- tm_map(nba_corpus, removePunctuation)
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
nba_corpus_clean[1]
View(nba_corpus_clean)
View(nba_corpus_clean)
for(i in seq(nba_corpus_clean)){
nba_corpus_clean[[i]]<-gsub('[[:punct:]]', '', nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("，"," ", nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("-"," ", nba_corpus_clean[[i]])
}
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
nba_tweets_text[1]
for(i in seq(nba_corpus_clean)){
nba_corpus_clean[[i]]<-gsub('[[:punct:]]', '', nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("，"," ", nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("-"," ", nba_corpus_clean[[i]])
nba_corpus_clean[[i]]<-gsub("U+1F525"," ", nba_corpus_clean[[i]])
}
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
for(i in seq(nba_tweets_text)){
nba_tweets_text[[i]]<-gsub('[[:punct:]]', '', nba_tweets_text[[i]])
nba_tweets_text[[i]]<-gsub("，"," ", nba_tweets_text[[i]])
nba_tweets_text[[i]]<-gsub("-"," ", nba_tweets_text[[i]])
nba_tweets_text[[i]]<-gsub("U+1F525"," ", nba_tweets_text[[i]])
}
nba_corpus <- Corpus(VectorSource(nba_tweets_text))
nba_corpus_clean <- tm_map(nba_corpus, removePunctuation)
nba_corpus_clean <- tm_map(nba_corpus_clean, content_transformer(tolower))
nba_corpus_clean <- tm_map(nba_corpus_clean, removeWords, stopwords("english"))
nba_corpus_clean <- tm_map(nba_corpus_clean, removeNumbers)
nba_corpus_clean <- tm_map(nba_corpus_clean, stripWhitespace)
nba_corpus_clean <- tm_map(nba_corpus_clean, removeWords, c("nba"))
wordcloud(nba_corpus_clean)
wordcloud(nba_corpus_clean, random.order = F, max.words = 40, scale = c(8, 0.5), colors = rainbow(50))
nba_corpus_clean <- tm_map(nba_corpus_clean, toSpace, "nba")
nba_corpus_clean <- tm_map(nba_corpus_clean, removeWords, "nba")
wordcloud(nba_corpus_clean, random.order = F, max.words = 40, scale = c(8, 0.5), colors = rainbow(50))
toSpace <- content_transformer(function(x, pattern) {
return (gsub(pattern, " ", x))}
)
nba_corpus_clean <- tm_map(nba_corpus_clean, toSpace, "nba")
wordcloud(nba_corpus_clean, random.order = F, max.words = 40, scale = c(8, 0.5), colors = rainbow(50))
nba_corpus_clean <- tm_map(nba_corpus_clean, toSpace, "nba")
wordcloud(nba_corpus_clean)
wordcloud(nba_corpus_clean, random.order = F, max.words = 40, scale = c(8, 0.5), colors = rainbow(50))
